<include target="_header.html" />
<include cond="$oDocument->isExists()" target="_read.html" />

	<p cond="!$document_list && !$notice_list" class="no_ducument">{$lang->no_documents}</p>


	{@ $oMemberModel = getModel('member')}
	<ul cond="false" class="list-group">
		<li class="list-group-item" style="position: relative; padding-left: 35px;">
			<div>
				<img src="http://bnu.local/xeofficial/files/member_extra_info/profile_image/613/050/016/16050613.png" class="img-circle profile-image" style="position: absolute; width: 39px; left: -13px;">
			</div>
			<strong class="title">
				<h3 class="list-group-item-heading" style="font-size: 20px;">
					<span class="label label-info">공지</span>
					<a href="/xeofficial/userForum/22427114">
						XE 이슈 등록은 Github 프로젝트를 이용해주세요.sadf
					</a>
					<a href="/xeofficial/userForum/22427114#comment" class="replyNum" title="Replies">
						<span class="badge badge-default">10</span>
					</a>
				</h3>
			</strong>

			<p class="list-group-item-text">
				<i class="fa fa-user"></i> XE   &nbsp; &nbsp;<i class="fa fa-clock-o"></i> 30분 전&nbsp;&nbsp;&nbsp;
				&nbsp;&nbsp;&nbsp;<i class="fa fa-clock-o"></i> 카테고리
				&nbsp;&nbsp;&nbsp;<i class="fa fa-tag"></i> 태그
				&nbsp;&nbsp;&nbsp;<i class="fa fa-clock-o"></i> 추천
				&nbsp;&nbsp;&nbsp;<i class="fa fa-clock-o"></i> 조회
				&nbsp;&nbsp;&nbsp;<i class="fa fa-clock-o"></i> 마지막 댓글
			</p>
		</li>


		<li class="list-group-item" loop="$notice_list => $no, $document">
			{@ $profileImage = $oMemberModel->getProfileImage($document->get('member_srl'))->src}

			<block loop="$list_config=>$key,$val">
				<div cond="$val->type=='nick_name' && $val->idx==-1">
					<img cond="$profileImage" class="img-circle profile-image" src="{$profileImage}">
					{$document->get('nick_name')}
				</div>

				<strong class="title" cond="$val->type=='title' && $val->idx==-1">
					<a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}">
						{$document->getTitle()}
					</a>
					<a cond="$document->getCommentCount()" href="{getUrl('document_srl', $document->document_srl)}#comment" class="replyNum" title="Replies">
						[{$document->getCommentCount()}]
					</a>
					<a cond="$document->getTrackbackCount()" href="{getUrl('document_srl', $document->document_srl)}#trackback" class="trackbackNum" title="Trackbacks">
						[{$document->getTrackbackCount()}]
					</a>
				</strong>
			</block>
		</li>
	</ul>
	<div class="block" id="">

		<table summary="List of Articles" class="table  table-vcenter" style="background:#FFF;" cond="$document_list || $notice_list">
			<thead>
				<!-- LIST HEADER -->
				<tr>
					<block loop="$list_config=>$key,$val">
						<th scope="col" cond="$val->type=='no' && $val->idx==-1"><span>{$lang->no}</span></th>
						<th scope="col" class="title" cond="$val->type=='title' && $val->idx==-1"><span>{$lang->title}</span></th>
						<th scope="col" cond="$val->type=='nick_name' && $val->idx==-1"><span>{$lang->writer}</span></th>
						<th scope="col" cond="$val->type=='user_id' && $val->idx==-1"><span>{$lang->user_id}</span></th>
						<th scope="col" cond="$val->type=='user_name' && $val->idx==-1"><span>{$lang->user_name}</span></th>
						<th scope="col" cond="$val->type=='regdate' && $val->idx==-1"><span><a href="{getUrl('sort_index','regdate','order_type',$order_type)}">{$lang->date}</a></span></th>
						<th scope="col" cond="$val->type=='last_update' && $val->idx==-1"><span><a href="{getUrl('sort_index','last_update','order_type',$order_type)}">{$lang->last_update}</a></span></th>
						<th scope="col" cond="$val->type=='last_post' && $val->idx==-1"><span><a href="{getUrl('sort_index','last_update','order_type',$order_type)}">{$lang->last_post}</a></span></th>
						<th scope="col" cond="$val->type=='readed_count' && $val->idx==-1"><span><a href="{getUrl('sort_index','readed_count','order_type',$order_type)}">{$lang->readed_count}</a></span></th>
						<th scope="col" cond="$val->type=='voted_count' && $val->idx==-1"><span><a href="{getUrl('sort_index','voted_count','order_type',$order_type)}">{$lang->voted_count}</a></span></th>
						<th scope="col" cond="$val->idx!=-1"><span>{$val->name}</span></th>
					</block>
					<th scope="col" cond="$grant->manager"><span><input type="checkbox" onclick="XE.checkboxToggleAll({ doClick:true });" class="iCheck" title="Check All" /></span></th>
				</tr>
				<!-- /LIST HEADER -->
			</thead>
			<tbody>
				<!-- NOTICE -->
				<tr loop="$notice_list=>$no,$document" class="success"|cond="$document_srl==$document->document_srl">
					<block loop="$list_config=>$key,$val">
						<td class="notice" cond="$val->type=='no' && $val->idx==-1">
							<block cond="$document_srl==$document->document_srl">&raquo;</block>
							<block cond="$document_srl!=$document->document_srl">{$lang->notice}</block>
						</td>
						<td class="title" cond="$val->type=='title' && $val->idx==-1">
							<span class="tx">
								<a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}">
									<span class="label label-info">공지</span> {$document->getTitle()}
								</a>
								<a cond="$document->getCommentCount()" href="{getUrl('document_srl', $document->document_srl)}#comment" class="replyNum" title="Replies">
									<span class="badge pull-right">{$document->getCommentCount()}</span>
								</a>
							</span>
						</td>
						<td class="author" cond="$val->type=='nick_name' && $val->idx==-1"><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false"><img cond="$profileImage" class="img-circle profile-image" src="{$profileImage}"> {$document->getNickName()}</a></td>
						<td class="author" cond="$val->type=='user_id' && $val->idx==-1">{$document->getUserID()}</td>
						<td class="author" cond="$val->type=='user_name' && $val->idx==-1">{$document->getUserName()}</td>
						<td class="time" cond="$val->type=='regdate' && $val->idx==-1">{$document->getRegdate('Y.m.d')}</td>
						<td class="time" cond="$val->type=='last_update' && $val->idx==-1">{zdate($document->get('last_update'),'Y.m.d')}</td>
						<td class="lastReply" cond="$val->type=='last_post' && $val->idx==-1">
							<block cond="(int)($document->get('comment_count'))>0">
								<a href="{$document->getPermanentUrl()}#comment" title="Last Reply">
									{zdate($document->get('last_update'),'Y.m.d')}
								</a>
								<span cond="$document->get('last_updater')">
									<sub>by</sub>
									{htmlspecialchars($document->get('last_updater'))}
								</span>
							</block>
							<block cond="(int)($document->get('comment_count'))==0">&nbsp;</block>
						</td>
						<td class="readNum" cond="$val->type=='readed_count' && $val->idx==-1">{$document->get('readed_count')>0?$document->get('readed_count'):'0'}</td>
						<td class="voteNum" cond="$val->type=='voted_count' && $val->idx==-1">{$document->get('voted_count')!=0?$document->get('voted_count'):'0'}</td>
						<td cond="$val->idx!=-1">{$document->getExtraValueHTML($val->idx)}&nbsp;</td>
					</block>
					<td cond="$grant->manager" class="check"><input type="checkbox" name="cart" value="{$document->document_srl}" class="iCheck" title="Check This Article" onclick="doAddDocumentCart(this)" checked="checked"|cond="$document->isCarted()" /></td>
				</tr>
				<!-- /NOTICE -->
				<!-- LIST -->
				<tr loop="$document_list=>$no,$document" class="success"|cond="$document_srl==$document->document_srl">
					{@ $profileImage = $oMemberModel->getProfileImage($document->get('member_srl'))->src}
					<block loop="$list_config=>$key,$val">
						<td class="no" cond="$val->type=='no' && $val->idx==-1">
							<block cond="$document_srl==$document->document_srl">&raquo;</block>
							<block cond="$document_srl!=$document->document_srl">{$no}</block>
						</td>
						<td class="title" cond="$val->type=='title' && $val->idx==-1">
							<span class="tx">
								<a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}" class="hx">{$document->getTitle()}</a>
								<a cond="$document->getCommentCount()" href="{getUrl('document_srl', $document->document_srl)}#comment" class="replyNum" title="Replies"><span class="badge pull-right">{$document->getCommentCount()}</span></a>
								{$document->printExtraImages(60*60*$module_info->duration_new)}
							</span>
						</td>
						<td class="author" cond="$val->type=='nick_name' && $val->idx==-1"><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false"><img cond="$profileImage" class="img-circle profile-image" src="{$profileImage}"> {$document->getNickName()}</a></td>
						<td class="author" cond="$val->type=='user_id' && $val->idx==-1">{$document->getUserID()}</td>
						<td class="author" cond="$val->type=='user_name' && $val->idx==-1">{$document->getUserName()}</td>
						<td class="time" cond="$val->type=='regdate' && $val->idx==-1">{$document->getRegdate('Y.m.d')}</td>
						<td class="time" cond="$val->type=='last_update' && $val->idx==-1">{zdate($document->get('last_update'),'Y.m.d')}</td>
						<td class="lastReply" cond="$val->type=='last_post' && $val->idx==-1">
							<block cond="(int)($document->get('comment_count'))>0">
								<a href="{$document->getPermanentUrl()}#comment" title="Last Reply">
									{zdate($document->get('last_update'),'Y.m.d')}
								</a>
								<span cond="$document->get('last_updater')">
									<sub>by</sub>
									{htmlspecialchars($document->get('last_updater'))}
								</span>
							</block>
							<block cond="(int)($document->get('comment_count'))==0">&nbsp;</block>
						</td>
						<td class="readNum" cond="$val->type=='readed_count' && $val->idx==-1">{$document->get('readed_count')>0?$document->get('readed_count'):'0'}</td>
						<td class="voteNum" cond="$val->type=='voted_count' && $val->idx==-1">{$document->get('voted_count')!=0?$document->get('voted_count'):'0'}</td>
						<td cond="$val->idx!=-1">{$document->getExtraValueHTML($val->idx)}&nbsp;</td>
					</block>
					<td cond="$grant->manager" class="check"><input type="checkbox" name="cart" value="{$document->document_srl}" class="iCheck" title="Check This Article" onclick="doAddDocumentCart(this)" checked="checked"|cond="$document->isCarted()" /></td>
				</tr>
				<!-- /LIST -->
			</tbody>
		</table>
	</div>


	<div class="text-center">
		<ul class="pagination" cond="$document_list || $notice_list">
			<li>
				<a href="{getUrl('page','','document_srl','','division',$division,'last_division',$last_division)}"><i class="fa fa-angle-left"></i> {$lang->first_page}</a>
			</li>
			<li loop="$page_no=$page_navigation->getNextPage()" class="active"|cond="$page==$page_no">
				<a href="#" cond="$page==$page_no">{$page_no}</a>
				<a cond="$page!=$page_no" href="{getUrl('page',$page_no,'document_srl','','division',$division,'last_division',$last_division)}">{$page_no}</a>
			</li>
			<li>
				<a href="{getUrl('page',$page_navigation->last_page,'document_srl','','division',$division,'last_division',$last_division)}">{$lang->last_page} <i class="fa fa-angle-right"></i></a>
			</li>
		</ul>
	</div>

	<div class="list_footer row">
		<div class="col-sm-6">
			<form cond="$grant->view" action="{getUrl()}" method="get" onsubmit="return procFilter(this, search)" id="board_search" class="board_search">
				<input type="hidden" name="vid" value="{$vid}" />
				<input type="hidden" name="mid" value="{$mid}" />
				<input type="hidden" name="category" value="{$category}" />
				<div class="input-group">
					<span class="input-group-addon">
						<select name="search_target">
							<option loop="$search_option=>$key,$val" value="{$key}" selected="selected"|cond="$search_target==$key">{$val}</option>
						</select>
					</span>
					<input type="text" name="search_keyword" value="{htmlspecialchars($search_keyword)}" title="{$lang->cmd_search}" class="form-control" placeholder="{$lang->cmd_search}" />
					<span class="input-group-btn">
						<button type="submit" class="tb-btn btn-primary" onclick="xGetElementById('board_search').submit();return false;"><i class="fa fa-search"></i> {$lang->cmd_search}</button>
						<a href="{getUrl('page',1,'document_srl','','division',$last_division,'last_division','')}" class="tb-btn btn-success" cond="true || $last_division">{$lang->cmd_search_next}</a>
					</span>
				</div>
			</form>
		</div>
		<div class="col-sm-6 text-right">
			<a href="{getUrl('act','dispBoardTagList')}" class="tb-btn btn-default" title="{$lang->tag}">{$lang->tag}</a>
			<a  class="tb-btn btn-primary" href="{getUrl('act','dispBoardWrite','document_srl','')}">{$lang->cmd_write}</a>
			<block cond="$grant->manager"><a class="tb-btn btn-danger" href="{getUrl('','module','document','act','dispDocumentManageDocument')}" onclick="popopen(this.href,'manageDocument'); return false;">{$lang->cmd_manage_document}</a></block>
		</div>
	</div>
	<include target="_footer.html" />

